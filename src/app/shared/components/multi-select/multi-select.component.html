<button
  class="flex w-full items-center justify-between rounded border p-1.5 text-xs text-muted-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
  (click)="toggleDropdown()">
  <div class="tag-container">
    @for(selectedOption of selectedOptions;track selectedOption){
    <span class="tag">{{ selectedOption }}</span>
    }@empty{
    <span class="text-muted-foreground">
      {{ placeHolder }}
    </span>
    }
  </div>

  <svg
    class="h-5 w-5 text-gray-500"
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
  </svg>
</button>

<div *ngIf="isDropdownOpen" class="absolute z-10 mt-2 w-full rounded-md border border-gray-300 bg-white shadow-lg">
  <ul class="max-h-48 overflow-y-auto">
    <li
      *ngFor="let option of options"
      (click)="toggleSelection(option)"
      class="flex cursor-pointer items-center px-4 py-2 hover:bg-indigo-100">
      <input type="checkbox" [checked]="isSelected(option)" class="mr-2 accent-indigo-500" />
      <span>{{ option }}</span>
    </li>
  </ul>
  <div class="border-t p-2 text-center">
    <button class="text-sm text-red-500 hover:text-red-700" (click)="clearSelection()">Clear All</button>
  </div>
</div>
